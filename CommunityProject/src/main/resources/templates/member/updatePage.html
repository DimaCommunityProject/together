<!DOCTYPE html>
<html lang="ko" dir="ltr" data-bs-theme="light" data-color-theme="Blue_Theme" data-layout="vertical"
  xmlns:th="http://www.thymeleaf.org">

<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon icon-->
  <link rel="shortcut icon" type="image/png" href="../../static/images/logos/favicon.png" />

  <!-- Core Css -->
  <link rel="stylesheet" href="../../static/css/styles.css" />

  <title>Modernize Bootstrap Admin</title>
  <link rel="stylesheet" href="../../static/libs/select2/dist/css/select2.min.css">

  <title>Modernize Bootstrap Admin</title>
  <script th:src="@{/static/js/jquery-3.7.1.min.js}"></script>
  <script>
    $(function () {
      $("#skillUpdateBtn").on('click', updateSkill);
      $("#sendVerifyCode").on('click', sendVerifyCode);
    })

    function updateSkill() {
      let memberId = $("#memberId").text();
      let memberSkill = "";
      $("#skill :selected").each(function () {
        memberSkill += this.value + " ";
      })
      let data = { memberId: memberId, memberSkill: memberSkill.trim() };
      $.ajax({
        url: "/memberpage/updateMemberSkill"
        , data: data
        , method: "POST"
        , success: function (resp) {
          if (!resp) { alert("저장을 실패했습니다. 다시 시도해 주세요."); return; }
          $("#skillComplete").attr("hidden", false);
          return;
        }

      })
      return;

    };

    function sendVerifyCode() {
      let memberId = $("#memberId").text();
      let memberEmail = $("#memberEmail").val();
      $.ajax({
        url: "/email/resend"
        , method: "POST"
        , data: { memberId: memberId, memberEmail: memberEmail }
        , success: function (resp) {
          alert("성공");

        }
      })
      return;
    }
  </script>
</head>

<body class="link-sidebar">

  <div class="body-wrapper">
    <div class="container-fluid">
      <div class="card bg-info-subtle shadow-none position-relative overflow-hidden mb-4">
        <div class="card-body px-4 py-3">
          <div class="row align-items-center">
            <div class="col-9">
              <h4 class="fw-semibold mb-8">User Profile</h4>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a class="text-muted text-decoration-none" href="../main/index.html">Home</a>
                  </li>
                  <li class="breadcrumb-item" aria-current="page">User Profile</li>
                </ol>
              </nav>
            </div>
            <div class="col-3">
              <div class="text-center mb-n5">
                <img src="../../static/images/breadcrumb/ChatBc.png" alt="modernize-img" class="img-fluid mb-n4" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card overflow-hidden">
        <div class="card-body p-0">
          <img src="../../static/images/backgrounds/profilebg.jpg" alt="modernize-img" class="img-fluid">
          <div class="row align-items-center">
            <div class="col-lg-4 order-lg-1 order-2">
              <div class="d-flex align-items-center justify-content-around m-4">
                <div class="text-center">
                  <i class="ti ti-file-description fs-6 d-block mb-2"></i>
                  <h4 class="mb-0 lh-1">938</h4>
                  <p class="mb-0 ">Posts</p>
                </div>
                <div class="text-center">
                  <i class="ti ti-user-circle fs-6 d-block mb-2"></i>
                  <h4 class="mb-0 lh-1">3,586</h4>
                  <p class="mb-0 ">Followers</p>
                </div>
                <div class="text-center">
                  <i class="ti ti-user-check fs-6 d-block mb-2"></i>
                  <h4 class="mb-0 lh-1">2,659</h4>
                  <p class="mb-0 ">Following</p>
                </div>
              </div>
            </div>
            <div class="col-lg-4 mt-n3 order-lg-2 order-1">
              <div class="mt-n5">
                <div class="d-flex align-items-center justify-content-center mb-2">
                  <div class="d-flex align-items-center justify-content-center round-110">
                    <div
                      class="border border-4 border-white d-flex align-items-center justify-content-center rounded-circle overflow-hidden round-100">
                      <img src="../../static/images/profile/user-1.jpg" alt="modernize-img" class="w-100 h-100">
                    </div>
                  </div>
                </div>
                <div class="text-center">
                  <span class="mb-1 badge rounded-pill  bg-info-subtle text-info"
                    th:text="${member.memberGroup}"></span>
                  <h5 class="mb-0" th:text="${member.memberName}" style="display: inline;">Mathew Anderson</h5>
                  <p class="mb-0" id="memberId" th:text="${member.memberId}"></p>
                </div>
              </div>
            </div>
            <div class="col-lg-4 order-last">
              <ul
                class="list-unstyled d-flex align-items-center justify-content-center justify-content-lg-end my-3 mx-4 pe-xxl-4 gap-3">
                <li>
                  <a class="d-flex align-items-center justify-content-center btn btn-primary p-2 fs-4 rounded-circle"
                    href=`chat?memberId=${member.memberId}` width="30" height="30">
                    <i class="ti ti-message-chatbot"></i>
                  </a>
                </li>
                <li>
                  <a class="btn btn-secondary d-flex align-items-center justify-content-center p-2 fs-4 rounded-circle"
                    href="mailto:${member.memberEmail}">
                    <i class=" ti ti-mail"></i>
                  </a>
                </li>
                <li>
                  <a class="btn btn-danger d-flex align-items-center justify-content-center p-2 fs-4 rounded-circle"
                    th:href="${memberPage.memberBlog}">
                    <i class="ti ti-brand-blogger"></i>
                  </a>
                </li>
                <li>
                  <button class="btn btn-primary text-nowrap">Add To Story</button>
                </li>
              </ul>
            </div>
          </div>
          <ul class="nav nav-pills user-profile-tab justify-content-end mt-2 bg-primary-subtle rounded-2 rounded-top-0"
            id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active hstack gap-2 rounded-0 py-6" id="pills-profile-tab" data-bs-toggle="pill"
                data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile"
                aria-selected="true">
                <i class="ti ti-user-circle fs-5"></i>
                <span class="d-none d-md-block">Profile</span>
              </button>
            </li>
          </ul>
        </div>
      </div>
      <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab"
          tabindex="0">
          <div class="row">
            <div class="col-lg-4">
              <div class="card shadow-none border">
                <div class="card-body">
                  <h4 class="mb-3">Introduction</h4>
                  <div class="form-group">
                    <textarea class="form-control" id="memberSelfInfo" rows="3"
                      th:placeholder="${memberPage.memberSelfInfo}" data-bs-toggle="tooltip" data-bs-placement="right"
                      title="간단한 자기소개를 입력해주세요"></textarea>
                  </div>
                  <div class="vstack gap-3 mt-4">
                    <div class="hstack gap-6">
                      <i class="ti ti-briefcase text-dark fs-6"></i>
                      <input type="text" class="form-control" id="memberInterest"
                        th:placeholder="${memberPage.memberInterest}" data-bs-toggle="tooltip" data-bs-placement="right"
                        title="관심분야">
                    </div>
                    <div class="hstack gap-6">
                      <i class="ti ti-mail text-dark fs-6"></i>
                      <form style="width: 100%;">
                        <input type="text" class="form-control is-invalid" id="memberEmail"
                          th:placeholder="${member.memberEmail}" data-bs-toggle="tooltip" data-bs-placement="right"
                          title="이메일">
                        <div class="invalid-feedback">
                          본인인증을 완료해주세요
                        </div>
                        <div style="display: flex; width: 100%;">
                          <button type="button" id="sendVerifyCode"
                            class="btn btn-rounded bg-warning-subtle text-warning" style="margin: 5px; ">
                            인증코드 보내기
                          </button>
                          <input type="text" id="verificationCode" class="form-control"
                            style="width: 30%; margin: 5px;">
                          <button type="button" id="verifyCode" class="btn btn-rounded bg-warning-subtle text-warning"
                            style="margin: 5px;">
                            확인
                          </button>
                        </div>
                      </form>
                    </div>

                    <div class="hstack gap-6">
                      <i class="ti ti-device-desktop text-dark fs-6"></i>
                      <input type="text" class="form-control" id="helpInput10" th:placeholder="${memberPage.memberGit}"
                        data-bs-toggle="tooltip" data-bs-placement="right" title="Github 주소">
                    </div>
                    <div class=" hstack gap-6">
                      <i class="ti ti-map-pin text-dark fs-6"></i>
                      <input type="text" class="form-control" id="helpInput10" th:placeholder="${memberPage.memberBlog}"
                        data-bs-toggle="tooltip" data-bs-placement="right" title="블로그 주소">
                    </div>
                  </div>
                  <div style="display: flex; justify-content: flex-end;">
                    <span hidden id="pageComplete"
                      style="color: #5d87ff; margin: 10px; align-content: center;">Complete!</span>

                    <button type="button" id="pageUpdateBtn" class="btn btn-rounded bg-warning-subtle text-warning"
                      style="margin: 10px;">
                      저장
                    </button>
                  </div>
                </div>
              </div>
              <div class="card shadow-none border">
                <div class="card-body">
                  <h4 class="mb-3">내 활동</h4>
                  <div class="row">
                    <ul class="nav nav-pills nav-fill mt-4" role="tablist">
                      <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#navpill-111" role="tab">
                          <span>내가 쓴 게시글</span>
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#navpill-222" role="tab">
                          <span>내가 쓴 댓글</span>
                        </a>
                      </li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content border mt-2">
                      <div class="tab-pane active p-3" id="navpill-111" role="tabpanel">
                        <div class="row">
                          <div data-draggable="true" class="card img-task">
                            <div class="card-body" style="padding: 10px;">
                              <div class="task-header">
                                <div>
                                  <h4 data-item-title="Lets do some task on pd" style="font-size: 14px; font-weight: 600;
    margin-bottom: 0;">
                                    프로젝트 팀원 모집합니다</h4>
                                </div>
                                <div class="tb-section-2">
                                  <span class="badge text-bg-warning fs-1">Project</span>
                                </div>
                              </div>

                              <div class="task-content">
                                <p class="mb-0"
                                  data-item-text="Lorem ipsum dolor sit amet, consectetur adipisicing elit, o eiusmod tempor incid.">
                                  디마 커뮤니티 팀원 모집합니다 ...
                                </p>
                              </div>
                              <div class="task-body">
                                <div class="task-bottom">
                                  <div class="tb-section-1">
                                    <span class="hstack gap-2 fs-2" data-item-date="24 July">
                                      <i class="ti ti-calendar fs-5"></i> 24 July
                                    </span>
                                  </div>

                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="tab-pane p-3" id="navpill-222" role="tabpanel">
                        <div class="row">
                          <div data-draggable="true" class="card img-task">
                            <div class="card-body" style="padding: 10px;">
                              <div class="task-header">
                                <div>
                                  <h4 data-item-title="Lets do some task on pd" style="font-size: 14px; font-weight: 600;
                              margin-bottom: 0;">
                                    padding 0으로 해보새요!</h4>
                                </div>
                                <div class="tb-section-2">
                                  <span class="badge text-bg-warning fs-1">Code</span>
                                </div>
                              </div>

                              <div class="task-content">
                                <p class="mb-0"
                                  data-item-text="Lorem ipsum dolor sit amet, consectetur adipisicing elit, o eiusmod tempor incid.">
                                  프론트 질문있습니다..
                                </p>
                              </div>
                              <div class="task-body">
                                <div class="task-bottom">
                                  <div class="tb-section-1">
                                    <span class="hstack gap-2 fs-2" data-item-date="24 July">
                                      <i class="ti ti-calendar fs-5"></i> 24 July
                                    </span>
                                  </div>

                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="tab-pane p-3" id="navpill-333" role="tabpanel">
                        <div class="row">
                          <div class="col-md-4">
                            <img src="../assets/images/blog/blog-img3.jpg" alt="modernize-img" class="img-fluid" />
                          </div>
                          <div class="col-md-8">
                            <p>
                              Raw denim you probably haven't heard of them jean
                              shorts Austin. Nesciunt tofu stumptown aliqua,
                              retro synth master cleanse. Mustache cliche
                              tempor, williamsburg carles vegan helvetica.
                            </p>
                          </div>
                          <!-- </div> -->
                          <!-- </div> -->
                          <!-- </div> -->
                        </div>
                      </div>
                      <!-- end Tab with Fill & Justify -->

                    </div>

                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-8">

              <div class="card">
                <div class="card-body">
                  <form action="/memberSkill/updateMemberSkill" method="Post">
                    <!-- <p id="skillMemberId" th:text="${memberPage.memberId}" hidden></p> -->

                    <h5>Skill Set</h5>
                    <p th:text="${memberPage.memberSkill}" id="memberSkill" hidden></p>
                    <select id="skill" name="skill" class="select2 form-control" multiple="multiple">
                      <div th:if="${memberPage.memberSkill.contains('JAVA')}">
                        <option value="JAVA" selected>JAVA</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('JAVA')}">
                        <option value="JAVA">JAVA</option>
                      </div>
                      <div th:if="${memberPage.memberSkill.contains('PYTHON')}">
                        <option value="PYTHON" selected>PYTHON</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('PYTHON')}">
                        <option value="PYTHON">PYTHON</option>
                      </div>
                      <div th:if="${memberPage.memberSkill.contains('C')}">
                        <option value="C" selected>C</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('C')}">
                        <option value="C">C</option>
                      </div>
                      <div th:if="${memberPage.memberSkill.contains('C++')}">
                        <option value="C++" selected>C++</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('C++')}">
                        <option value="C++">C++</option>
                      </div>
                      <div th:if="${memberPage.memberSkill.contains('C#')}">
                        <option value="C#" selected>C#</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('C#')}">
                        <option value="C#">C#</option>
                      </div>
                      <div th:if="${memberPage.memberSkill.contains('Javascript')}">
                        <option value="Javascript" selected>Javascript</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Javascript')}">
                        <option value="Javascript">Javascript</option>
                      </div>
                      <div th:if="${memberPage.memberSkill.contains('React')}">
                        <option value="React" selected>React</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('React')}">
                        <option value="React">React</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('HTML')}">
                        <option value="HTML" selected>HTML</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('HTML')}">
                        <option value="HTML">HTML</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('Springboot')}">
                        <option value="Springboot" selected>Springboot</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Springboot')}">
                        <option value="Springboot">Springboot</option>
                      </div>


                      <div th:if="${memberPage.memberSkill.contains('jQuery')}">
                        <option value="jQuery" selected>jQuery</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('jQuery')}">
                        <option value="jQuery">jQuery</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('CSS3')}">
                        <option value="CSS3" selected>CSS3</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('CSS3')}">
                        <option value="CSS3">CSS3</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('Node.js')}">
                        <option value="Node.js" selected>Node.js</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Node.js')}">
                        <option value="Node.js">Node.js</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('Oracle')}">
                        <option value="Oracle" selected>Oracle</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Oracle')}">
                        <option value="Oracle">Oracle</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('MySQL')}">
                        <option value="MySQL" selected>MySQL</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('MySQL')}">
                        <option value="MySQL">MySQL</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('MongoDB')}">
                        <option value="MongoDB" selected>MongoDB</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('MongoDB')}">
                        <option value="MongoDB">MongoDB</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('MariaDB')}">
                        <option value="MariaDB" selected>MariaDB</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('MariaDB')}">
                        <option value="MariaDB">MariaDB</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('PostgreSQL')}">
                        <option value="PostgreSQL" selected>PostgreSQL</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('PostgreSQL')}">
                        <option value="PostgreSQL">PostgreSQL</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('JPA')}">
                        <option value="JPA" selected>JPA</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('JPA')}">
                        <option value="JPA">JPA</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('JSP')}">
                        <option value="JSP" selected>JSP</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('JSP')}">
                        <option value="JSP">JSP</option>
                      </div>


                      <div th:if="${memberPage.memberSkill.contains('Linux')}">
                        <option value="Linux" selected>Linux</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Linux')}">
                        <option value="Linux">Linux</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('Unity')}">
                        <option value="Unity" selected>Unity</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Unity')}">
                        <option value="Unity">Unity</option>
                      </div>

                      <div th:if="${memberPage.memberSkill.contains('Flutter')}">
                        <option value="Flutter" selected>Flutter</option>
                      </div>
                      <div th:unless="${memberPage.memberSkill.contains('Flutter')}">
                        <option value="Flutter">Flutter</option>
                      </div>
                    </select>
                    <div style="display: flex; justify-content: flex-end;">
                      <span hidden id="skillComplete"
                        style="color: #5d87ff; margin: 10px; align-content: center;">Complete!</span>

                      <button type="button" id="skillUpdateBtn" class="btn btn-rounded bg-warning-subtle text-warning"
                        style="margin: 10px;">
                        저장
                      </button>
                    </div>
                  </form>
                </div>
              </div>
              <div class="card">
                <div class="card-body border-bottom">
                  <h4 class="card-title mb-3">Project</h4>
                  <!-- <p th:text="${memberProject}" id="projects" hidden>Projects</p> -->
                  <div th:each="entry : ${memberProject}">

                    <div class="card card-hover">
                      <div class="card-header" style="background-color: rgba(236, 242, 247, 0.897);">
                        <h4 th:text="${entry.projectTitle}" class="mb-0 text-dark card-title">Card Title</h4>
                      </div>
                      <div class="card-body">
                        <h3 th:text="${entry.projectSubtitle}" class="card-title">Special title treatment</h3>
                        <p th:text="${entry.projectGit}" class="card-text">
                          With supporting text below as a natural lead-in to
                          additional content.
                        </p>
                        <a th:href="${entry.projectGit}" class="btn btn-primary">Git Repository 바로가기</a>
                      </div>
                    </div>

                  </div>

                </div>
              </div>
              <span style="margin: 10px; float: right;">
                <a th:href="@{/memberpage/updatepage(memberId=${member.memberId})}">수정하기</a></span>


            </div>
          </div>
          <!-- Import Js Files -->
          <script src="../../static/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
          <script src="../../static/libs/simplebar/dist/simplebar.min.js"></script>
          <script src="../../static/js/theme/app.init.js"></script>
          <script src="../../static/js/theme/theme.js"></script>
          <script src="../../static/js/theme/app.min.js"></script>
          <script src="../../static/js/theme/sidebarmenu.js"></script>

          <script src="../../static/js/vendor.min.js"></script>
          <!-- solar icons -->
          <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>
          <!-- This Page JS -->
          <script src="../../static/libs/select2/dist/js/select2.full.min.js"></script>
          <script src="../../static/libs/select2/dist/js/select2.min.js"></script>
          <script src="../../static/js/forms/select2.init.js"></script>
          <script src="../../static/js/apps/kanban.js"></script>
</body>

</html>