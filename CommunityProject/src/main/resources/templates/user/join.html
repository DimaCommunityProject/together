<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<meta charset="UTF-8">
	<title>회원가입</title>
	<!-- fontawesome 사용 CDN 설정 -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

	<!-- CSS 설정 -->
	<link rel="stylesheet" th:href="@{/css/user.css}">

	<script th:src="@{/script/jquery-3.7.1.min.js}"></script>
	<script>
		$(function () {
			$("#userId").on('keyup', checkId)

		});

		function checkId() {
			let id = $("#memberId").val();
			if (id.trim().length < 8 || id.trim().length > 15) {
				$("#checkId").css("color", "red");
				$("#checkId").val("아이디는 8~15자리로 설정해주세요");
			}
			$.ajax({
				url: "/member/checkDuplicate"
				, data: { memberId: id }
				, method: "GET"
				, success: function (resp) {
					if (!resp) {
						$("#checkId").text = "이미 존재하는 ID 입니다."
					}
					$("#checkId").text = "사용 가능한 입니다."
				}
			})
		};

	</script>
</head>

<body>
	<div class="container">
		<div class="logo">
			<a th:href="@{/}"><img th:src="@{/images/logo.png}" alt="logo"></a>
			<h2>회원 가입</h2>
		</div>
	</div> <!-- .container 끝 -->

	<div class="content">
		<form th:action="@{/user/joinProc}" method="POST">
			<div class="section pointColor">
				<div class="article">
					<ul>
						<li>
							<i class="fa-solid fa-fingerprint"></i>
							<input type="text" name="memberId" id="memberId" placeholder="ID">
							<span id="checkId"></span>
						</li>
						<li>
							<i class="fa-solid fa-lock"></i>
							<input type="password" name="userPwd" placeholder="Password">
						</li>
						<li>
							<i class="fa-solid fa-user"></i>
							<input type="text" name="userName" placeholder="Name">
						</li>
						<li>
							<i class="fa-solid fa-envelope"></i>
							<input type="email" name="email" placeholder="Email">
						</li>
					</ul>

					<div class="btns">
						<input type="submit" id="submitBtn" value="회원가입" class="btn btn-primary">
						<input type="reset" id="resetBtn" value="초기화" class="btn btn-secondary">
					</div>
				</div>
			</div>
		</form>

	</div>

</body>

</html>