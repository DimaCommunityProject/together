<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" dir="ltr" data-bs-theme="light" data-color-theme="Blue_Theme" data-layout="vertical">


<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon icon-->
  <link rel="shortcut icon" type="image/png" th:href="@{/assets/images/logos/favicon.png}" />

  <!-- Core Css -->
  <link rel="stylesheet" th:href="@{/assets/css/styles.css}" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />

  <title>[[${board.title}]]</title>

  <!-- JQuery -->
  <script th:src="@{/script/jquery-3.7.1.min.js}"></script>
  <script>
    $(function() {
      $("#deleteBoard").click(deleteBoard);
    });

    // 게시글 삭제 처리 함수
    function deleteBoard (){
      if(confirm("정말 삭제하시겠습니까?")){
        $("#deleteForm").submit();
      }
    }

  </script>

</head>

<body class="link-sidebar">
  <input type="hidden" id="boardId" th:value="${board.boardId}">
  <input type="hidden" id="category" th:value="${category}">
  <!-- Preloader -->
  <div class="preloader">
    <img th:src="@{/assets/images/logos/favicon.png}" alt="loader" class="lds-ripple img-fluid" />
  </div>
  <div id="main-wrapper">

      <div class="body-wrapper">
        <div class="container-fluid">
          <div class="card bg-info-subtle shadow-none position-relative overflow-hidden mb-4">
            <div class="card-body px-4 py-3">
              <div class="row align-items-center">
                <div class="col-9">
                  <h4 class="fw-semibold mb-8">Blog Detail</h4>
                  <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item">
                        <a class="text-muted text-decoration-none" th:href="@{/}">Home</a>
                      </li>
                      <li class="breadcrumb-item" aria-current="page">
                        <a class="text-muted text-decoration-none" th:href="@{/board/list(category=${category})}">[[${category}]]</a>
                      </li>
                    </ol>
                  </nav>
                </div>
                <div class="col-3">
                  <div class="text-center mb-n5">
                    <img th:src="@{/assets/images/breadcrumb/ChatBc.png}" alt="modernize-img" class="img-fluid mb-n4"/>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card overflow-hidden">
            <div class="position-relative">
              <a href="javascript:void(0)">
                <!-- 작성자 바로 위 배경이미지 -->
                <img th:src="@{/assets/images/blog/blog-img5.jpg}" class="card-img-top rounded-0 object-fit-cover" alt="modernize-img" height="300">
              </a>
              <span class="badge text-bg-light mb-9 me-9 position-absolute bottom-0 end-0">2 min Read</span>
              <!-- 작성자 이미지 -->
              <img th:src="@{/assets/images/profile/user-5.jpg}" alt="modernize-img" class="img-fluid rounded-circle position-absolute bottom-0 start-0 mb-n9 ms-9" width="40" height="40" data-bs-toggle="tooltip" data-bs-placement="top" th:data-bs-title="${board.memberId}">
              <!-- 작성자 ID 및 배지 -->

            </div>
            
            <!-- 게시글 작성자 수정/삭제 -->
            <div>
              <div style="margin-left: 95.5%;">
                <a class="navbar-toggler nav-icon-hover-bg rounded-circle p-0 mx-0 border-0" href="javascript:void(0)" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="ti ti-dots fs-7"></i>
                </a>
              </div>
              <div class="collapse navbar-collapse justify-content-end" id="navbarNav" style="margin-right: 1%;">
                <div class="d-flex align-items-center justify-content-between">
                  <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-center">
                    <li class="nav-item nav-icon-hover-bg rounded-circle">
                      <a class="" th:href="@{/board/update(boardId=${board.boardId}, category=${category})}" style="text-align: center;">
                        <i class="ti ti-edit"></i> edit
                      </a>
                    </li>
                    <li class="nav-item nav-icon-hover-bg rounded-circle" style="padding-left: 5px;">
                      <a class="" id="deleteBoard" href="javascript:void(0)" style="text-align: center;">
                        <i class="ti ti-trash-x" style="padding-right: 5px;"></i> delete
                      </a>
                      <!-- Hidden form to handle deletion -->
                      <form id="deleteForm" th:action="@{/board/delete}" method="get">
                        <input type="hidden" name="boardId" id="boardId" th:value="${board.boardId}">
                        <input type="hidden" name="category" id="category" th:value="${category}">
                        <input type="hidden" name="searchWord" id="searchWord" th:value="${searchWord}">
                      </form>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="card-body p-4">
              <span class="badge text-bg-light mt-3">[[${category}]]</span>
              <!-- 게시글 제목 -->
              <h2 class="fs-9 fw-semibold my-4" th:text="${board.title}"></h2>
              <div class="d-flex align-items-center gap-4">
                <div class="d-flex align-items-center gap-2">
                  <!--조회수-->
                  <i class="ti ti-eye text-dark fs-5"></i>[[${board.hitCount}]] 
                </div>
                <div class="d-flex align-items-center gap-2">
                  <!--댓글 수-->
                  <i class="ti ti-message-2 text-dark fs-5"></i> [[${board.replyCount}]] 
                </div>
                <div class="d-flex align-items-center gap-2">
                  <!--좋아요 수-->
                  <i class="ti ti-heart text-dark fs-5"></i> [[${board.likeCount}]] 
                </div>
                <div class="d-flex align-items-center fs-2 ms-auto">
                  <!--작성 날짜-->
                  <i class="ti ti-point text-dark"></i> [[${#temporals.format(board.createDate, 'EEE, MMM dd')}]] 
                </div>
              </div>
            </div>
            <div class="card-body border-top p-4">
              <!-- 게시글 내용 -->
              <p class="mb-3" th:utext="${board.content}"></p>
            </div>
          </div>
          <!-- 댓글 -->
          <div class="card">
            <div class="card-body">
              
              <!-- 댓글 작성 -->
              <h4 class="mb-4 fw-semibold">Post Comments</h4>
              <form>
                <input type="hidden" id="replyBoardId" th:value="${board.boardId}"> <!--댓글 작성 게시글 ID-->
                <!-- <input type="hidden" id="replyWriter" th:value="${#authentication.name}"> -->
                <input type="hidden" id="replyWriter" th:value="${doyeon}"> <!--댓글 작성자 ID-->
                <textarea class="form-control mb-4" rows="5" id="replyContent"></textarea> <!--댓글 내용-->
                <button class="btn btn-primary" id="replySubmit">Post Comment</button> <!-- 댓글 작성 버튼 -->
              </form>

              <div class="d-flex align-items-center gap-3 mb-4 mt-7 pt-8">
                <h4 class="mb-0">Comments</h4>
                <span class="badge bg-primary-subtle text-primary fs-4 fw-semibold px-6 py-8 rounded">[[${board.replyCount}]]</span> <!-- 댓글 수 -->
              </div>

              <!-- 댓글 목록 -->
              <div class="position-relative">
                <!-- class="p-4 rounded-4 text-bg-light mb-3" 이거 반복하면 됨 -->
                <div class="p-4 rounded-4 text-bg-light mb-3">
                  <div class="d-flex align-items-center gap-3">
                    <img th:src="@{/assets/images/profile/user-2.jpg}" alt="modernize-img" class="rounded-circle" width="33" height="33">
                    <!-- 댓글 작성자 ID-->
                    <h6 class="mb-0 fs-4">Don Russell</h6> 
                    <span class="p-1 text-bg-muted rounded-circle d-inline-block"></span>
                  </div>
                  <!-- 댓글 내용 -->
                  <p class="my-3">Es do ujurus nejson imju azgudpi toceztep ji cocicoci bosawrop korze ta.
                    Casetlu udumej umocu wanaro webmos ijafa ud muli amja softoj ma pijum.
                  </p>
                  <div class="d-flex align-items-center gap-2">
                    <a class="d-flex align-items-center justify-content-center text-bg-primary p-2 fs-4 rounded-circle" href="javascript:void(0)" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Reply">
                      <i class="ti ti-arrow-back-up"></i> <!--대댓글 작성요청 버튼-->
                    </a>
                  </div>
                </div>
                <div class="p-4 rounded-4 text-bg-light mb-3">
                  <div class="d-flex align-items-center gap-3">
                    <img th:src="@{/assets/images/profile/user-3.jpg}" alt="modernize-img" class="rounded-circle" width="33" height="33">
                    <h6 class="mb-0 fs-4">Cordelia Potter</h6>
                    <span class="p-1 text-bg-muted rounded-circle d-inline-block"></span>
                  </div>
                  <p class="my-3">Huwso jewzehgu julriw niwgazep lewbob isujirmuz hemto pahop cewa zuhucze rinitba
                    etdebluj.
                    Obdevo bo fa siztes laobeir agoemugo rut sapaviw mulati do re dabelul wo tumnik wih mu.
                  </p>
                  <div class="d-flex align-items-center gap-2">
                    <a class="d-flex align-items-center justify-content-center text-bg-primary p-2 fs-4 rounded-circle" href="javascript:void(0)" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Reply">
                      <i class="ti ti-arrow-back-up"></i>
                    </a>
                  </div>
                </div>
                <div class="p-4 rounded-4 text-bg-light mb-3 ms-7">
                  <div class="d-flex align-items-center gap-3">
                    <img th:src="@{/assets/images/profile/user-6.jpg}" alt="modernize-img" class="rounded-circle" width="40" height="40">
                    <h6 class="mb-0 fs-4">Irene Hanson</h6>
                    <span class="p-1 text-bg-muted rounded-circle d-inline-block"></span>
                  </div>
                  <p class="my-3">Uborofgic be rof lom sedge vapozi ohoinu nutremcuc ro ko atmeg anrov git ve vuj ki teb
                    or.
                    Lohi hafa faddegon horoz ebema kew idful ducam nev rol iga wikkobsu sucdu gud.
                  </p>
                </div>
                <div class="p-4 rounded-4 text-bg-light">
                  <div class="d-flex align-items-center gap-3">
                    <img th:src="@{/assets/images/profile/user-4.jpg}" alt="modernize-img" class="rounded-circle" width="33" height="33">
                    <h6 class="mb-0 fs-4">Seth Ortiz</h6>
                    <span class="p-1 text-bg-muted rounded-circle d-inline-block"></span>
                  </div>
                  <p class="my-3">Icme rasejmat ciwo ifekemug owoca vicoz ukikitus famiftat nuk eroewu za upe.
                    Pobrikvup kivofvac tuba ot veh ozoab sa gesi hahoniha hop burbip volo hufotobo di uted vojoamu.
                  </p>
                  <div class="d-flex align-items-center gap-2">
                    <a class="d-flex align-items-center justify-content-center text-bg-primary p-2 fs-4 rounded-circle" href="javascript:void(0)" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Reply">
                      <i class="ti ti-arrow-back-up"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <script>
        function handleColorTheme(e) {
          document.documentElement.setAttribute("data-color-theme", e);
        }
      </script>
      <button class="btn btn-primary p-3 rounded-circle d-flex align-items-center justify-content-center customizer-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
        <i class="icon ti ti-settings fs-7"></i>
      </button>

      <div class="offcanvas customizer offcanvas-end" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="d-flex align-items-center justify-content-between p-3 border-bottom">
          <h4 class="offcanvas-title fw-semibold" id="offcanvasExampleLabel">
            Settings
          </h4>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body h-n80" data-simplebar>
          <h6 class="fw-semibold fs-4 mb-2">Theme</h6>

          <div class="d-flex flex-row gap-3 customizer-box" role="group">
            <input type="radio" class="btn-check light-layout" name="theme-layout" id="light-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary rounded-2" for="light-layout">
              <i class="icon ti ti-brightness-up fs-7 me-2"></i>Light
            </label>

            <input type="radio" class="btn-check dark-layout" name="theme-layout" id="dark-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary rounded-2" for="dark-layout">
              <i class="icon ti ti-moon fs-7 me-2"></i>Dark
            </label>
          </div>

          <h6 class="mt-5 fw-semibold fs-4 mb-2">Theme Direction</h6>
          <div class="d-flex flex-row gap-3 customizer-box" role="group">
            <input type="radio" class="btn-check" name="direction-l" id="ltr-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="ltr-layout">
              <i class="icon ti ti-text-direction-ltr fs-7 me-2"></i>LTR
            </label>

            <input type="radio" class="btn-check" name="direction-l" id="rtl-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="rtl-layout">
              <i class="icon ti ti-text-direction-rtl fs-7 me-2"></i>RTL
            </label>
          </div>

          <h6 class="mt-5 fw-semibold fs-4 mb-2">Theme Colors</h6>

          <div class="d-flex flex-row flex-wrap gap-3 customizer-box color-pallete" role="group">
            <input type="radio" class="btn-check" name="color-theme-layout" id="Blue_Theme" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center" onclick="handleColorTheme('Blue_Theme')" for="Blue_Theme" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="BLUE_THEME">
              <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-1">
                <i class="ti ti-check text-white d-flex icon fs-5"></i>
              </div>
            </label>

            <input type="radio" class="btn-check" name="color-theme-layout" id="Aqua_Theme" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center" onclick="handleColorTheme('Aqua_Theme')" for="Aqua_Theme" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="AQUA_THEME">
              <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-2">
                <i class="ti ti-check text-white d-flex icon fs-5"></i>
              </div>
            </label>

            <input type="radio" class="btn-check" name="color-theme-layout" id="Purple_Theme" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center" onclick="handleColorTheme('Purple_Theme')" for="Purple_Theme" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="PURPLE_THEME">
              <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-3">
                <i class="ti ti-check text-white d-flex icon fs-5"></i>
              </div>
            </label>

            <input type="radio" class="btn-check" name="color-theme-layout" id="green-theme-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center" onclick="handleColorTheme('Green_Theme')" for="green-theme-layout" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="GREEN_THEME">
              <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-4">
                <i class="ti ti-check text-white d-flex icon fs-5"></i>
              </div>
            </label>

            <input type="radio" class="btn-check" name="color-theme-layout" id="cyan-theme-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center" onclick="handleColorTheme('Cyan_Theme')" for="cyan-theme-layout" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="CYAN_THEME">
              <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-5">
                <i class="ti ti-check text-white d-flex icon fs-5"></i>
              </div>
            </label>

            <input type="radio" class="btn-check" name="color-theme-layout" id="orange-theme-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center" onclick="handleColorTheme('Orange_Theme')" for="orange-theme-layout" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="ORANGE_THEME">
              <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-6">
                <i class="ti ti-check text-white d-flex icon fs-5"></i>
              </div>
            </label>
          </div>

          <h6 class="mt-5 fw-semibold fs-4 mb-2">Layout Type</h6>
          <div class="d-flex flex-row gap-3 customizer-box" role="group">
            <div>
              <input type="radio" class="btn-check" name="page-layout" id="vertical-layout" autocomplete="off" />
              <label class="btn p-9 btn-outline-primary" for="vertical-layout">
                <i class="icon ti ti-layout-sidebar-right fs-7 me-2"></i>Vertical
              </label>
            </div>
            <div>
              <input type="radio" class="btn-check" name="page-layout" id="horizontal-layout" autocomplete="off" />
              <label class="btn p-9 btn-outline-primary" for="horizontal-layout">
                <i class="icon ti ti-layout-navbar fs-7 me-2"></i>Horizontal
              </label>
            </div>
          </div>

          <h6 class="mt-5 fw-semibold fs-4 mb-2">Container Option</h6>

          <div class="d-flex flex-row gap-3 customizer-box" role="group">
            <input type="radio" class="btn-check" name="layout" id="boxed-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="boxed-layout">
              <i class="icon ti ti-layout-distribute-vertical fs-7 me-2"></i>Boxed
            </label>

            <input type="radio" class="btn-check" name="layout" id="full-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="full-layout">
              <i class="icon ti ti-layout-distribute-horizontal fs-7 me-2"></i>Full
            </label>
          </div>

          <h6 class="fw-semibold fs-4 mb-2 mt-5">Sidebar Type</h6>
          <div class="d-flex flex-row gap-3 customizer-box" role="group">
            <a href="javascript:void(0)" class="fullsidebar">
              <input type="radio" class="btn-check" name="sidebar-type" id="full-sidebar" autocomplete="off" />
              <label class="btn p-9 btn-outline-primary" for="full-sidebar">
                <i class="icon ti ti-layout-sidebar-right fs-7 me-2"></i>Full
              </label>
            </a>
            <div>
              <input type="radio" class="btn-check " name="sidebar-type" id="mini-sidebar" autocomplete="off" />
              <label class="btn p-9 btn-outline-primary" for="mini-sidebar">
                <i class="icon ti ti-layout-sidebar fs-7 me-2"></i>Collapse
              </label>
            </div>
          </div>

          <h6 class="mt-5 fw-semibold fs-4 mb-2">Card With</h6>

          <div class="d-flex flex-row gap-3 customizer-box" role="group">
            <input type="radio" class="btn-check" name="card-layout" id="card-with-border" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="card-with-border">
              <i class="icon ti ti-border-outer fs-7 me-2"></i>Border
            </label>

            <input type="radio" class="btn-check" name="card-layout" id="card-without-border" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="card-without-border">
              <i class="icon ti ti-border-none fs-7 me-2"></i>Shadow
            </label>
          </div>
        </div>
      </div>
    </div>

    
  </div>
  <div class="dark-transparent sidebartoggler"></div>
  <!-- Import Js Files -->
  <script th:src="@{/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>
  <script th:src="@{/assets/libs/simplebar/dist/simplebar.min.js}"></script>
  <script th:src="@{/assets/js/theme/app.init.js}"></script>
  <script th:src="@{/assets/js/theme/theme.js}"></script>
  <script th:src="@{/assets/js/theme/app.min.js}"></script>
  <script th:src="@{/assets/js/theme/sidebarmenu.js}"></script>

  <!-- solar icons -->
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>
</body>

</html>