<!DOCTYPE html>
<html lang="ko" dir="ltr" data-bs-theme="light" data-color-theme="Blue_Theme" data-layout="vertical"
  xmlns:th="http://www.thymeleaf.org">

<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon icon-->
  <link rel="shortcut icon" type="image/png" href="../static/images/logos/favicon.png" />

  <!-- Core Css -->
  <link rel="stylesheet" href="../static/css/styles.css" />

  <!-- Ajax -->
  <script src="../static/js/jquery-3.7.1.min.js"></script>
  <script>
    $(function () {
      $("#memberId").on('keyup', checkId)
      $("#memberPw").on('keyup', checkPw)
      $("#memberPw2").on('keyup', pwDoubleCheck)
      $("#memberPhone").on('keyup', checkPhone)
      $("#sendEmail").on('click', function () {
        if (!$("#termsCheckbox").is(':checked')) {
          alert("약관 동의에 체크해주세요");
          return;
        }
        let memberId = $("#memberId").val();
        let memberPw = $("#memberPw").val();
        let memberName = $("#memberName").val();
        let memberGroup = $("#memberGroup").val();
        let memberPhone = $("#memberPhone").val();
        let memberEmail = $("#memberEmail").val();
        let memberEnabled = $("#memberEnabled").val();
        let memberRole = $("#memberRole").val();
        $.ajax({
          url: "/email/send",
          method: "POST",
          contentType: 'application/json',
          data: JSON.stringify({
            memberId: memberId, memberPw: memberPw, memberName: memberName
            , memberGroup: memberGroup, memberPhone: memberPhone, memberEmail: memberEmail
            , memberEnabled: memberEnabled, memberRole: memberRole
          }),
          success: function (resp) {
            if (!resp) alert("메일 전송에 실패하였습니다. 다시한번 시도해주세요.")
            else alert("메일을 성공적으로 전송했습니다.")
          }
        })
      })
      $("#verifyCode").on('click', function () {
        let myVerifyCode = $("#myVerifyCode").val();
        let myEmail = $("#memberEmail").val();
        $.ajax({
          url: "/email/verifyCode"
          , method: "GET"
          , data: { memberVerifyCode: myVerifyCode, memberEmail: myEmail }
          , success: function (resp) {
            if (!resp) alert("본인인증에 실패하였습니다. 다시한번 시도해주세요.")
            else {
              alert("본인인증에 성공했습니다. ");
              $("#maintainJoinPage").text = "";
              $("#closeJoinPage").prop('type', "submit");
            }
          }
        })
      })

    });

    function checkId() {
      let id = $("#memberId").val();
      if (id.trim().length < 8 || id.trim().length > 15) {
        $("#checkId").text("아이디는 8~15자리로 설정해주세요");
        return;
      }
      if (id.trim().length >= 8 || id.trim().length <= 15) {
        $.ajax({
          url: "/member/checkDuplicate"
          , data: { memberId: id }
          , method: "GET"
          , success: function (resp) {
            if (!resp) {
              $("#checkId").text("이미 존재하는 ID 입니다.");
            }
            $("#checkId").text("사용 가능한 입니다.")
          }
        })
      }
    };

    function checkPw() {
      let pw = $("#memberPw").val();
      if (pw.trim().length < 8 || pw.trim().length > 15) {
        $("#memberPw2").attr('readonly', true)
        $("#checkPw").text("비밀번호는 8~15자리로 설정해주세요.")
      } else {
        $("#memberPw2").attr('readonly', false)
        $("#checkPw").text("");
        pwDoubleCheck;
      }
    }

    function pwDoubleCheck() {
      let pw = $("#memberPw").val();
      let pw2 = $("#memberPw2").val();
      if (pw.trim() != pw2.trim()) {
        $("#pwDoubleCheck").removeClass("text-success", "bg-danger-subtle");
        $("#pwDoubleCheck").addClass("text-danger", "bg-success-subtle");
        $("#pwDoubleCheck").text("비밀번호가 일치하지 않습니다.");
      } else {
        $("#pwDoubleCheck").removeClass("text-danger", "bg-danger-subtle");
        $("#pwDoubleCheck").addClass("text-success", "bg-success-subtle");
        $("#pwDoubleCheck").text("비밀번호가 일치합니다.");
      }
    }

    function checkPhone() {
      let phone = $("#memberPhone").val();
      if (phone.trim().length != 13) {
        $("#checkPhone").text("전화번호는 '-'를 포함하여 13자리 입니다.");
      } else {
        $("#checkPhone").text("");
      }
    }

    function checkEmail() {
      let email = $("#memberEmail").val();
      if (email === "") {
        $("#checkEmail").html("이메일은 필수값입니다.<br>");
      } else if (email.indexOf("@") === -1) {
        $("#checkEmail").html("올바른 이메일 형식으로 입력해주세요.");
      } else {
        $("#checkEmail").html(null);
      }

    }

  </script>

  <title>Modernize Bootstrap Admin</title>
</head>

<body>
  <!-- Preloader -->
  <div class="preloader">
    <img src="../static/images/logos/favicon.png" alt="loader" class="lds-ripple img-fluid" />
  </div>
  <div id="main-wrapper" class="auth-customizer-none">
    <div
      class="position-relative overflow-hidden radial-gradient min-vh-100 w-100 d-flex align-items-center justify-content-center">
      <div class="d-flex align-items-center justify-content-center w-100">
        <div class="row justify-content-center w-100">
          <div class="col-md-8 col-lg-6 col-xxl-3 auth-card">
            <div class="card mb-0">
              <div class="card-body">
                <a href="../main/index.html" class="text-nowrap logo-img text-center d-block mb-5 w-100">
                  <!-- <img src="../static/images/logos/dark-logo.svg" class="dark-logo" alt="Logo-Dark" />
                  <img src="../static/images/logos/light-logo.svg" class="light-logo" alt="Logo-light" /> -->
                  <p for="exampleInputEmail1" class="form-label">디마 커뮤니티</p>
                </a>
                <!-- <div class="row">
                  <div class="col-6 mb-2 mb-sm-0">
                    <a class="btn text-dark border fw-normal d-flex align-items-center justify-content-center rounded-2 py-8"
                      href="javascript:void(0)" role="button">
                      <img src="../static/images/svgs/google-icon.svg" alt="modernize-img" class="img-fluid me-2"
                        width="18" height="18">
                      <span class="flex-shrink-0">with Google</span>
                    </a>
                  </div>
                  <div class="col-6">
                    <a class="btn text-dark border fw-normal d-flex align-items-center justify-content-center rounded-2 py-8"
                      href="javascript:void(0)" role="button">
                      <img src="../static/images/svgs/facebook-icon.svg" alt="modernize-img" class="img-fluid me-2"
                        width="18" height="18">
                      <span class="flex-shrink-0">with FB</span>
                    </a>
                  </div>
                </div>
                <div class="position-relative text-center my-4">
                  <p class="mb-0 fs-4 px-3 d-inline-block bg-white z-index-5 position-relative">or sign Up with</p>
                  <span class="border-top w-100 position-absolute top-50 start-50 translate-middle"></span>
                </div> -->
                <form>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Id</label>
                    <input type="text" name="memberId" class="form-control" id="memberId" aria-describedby="textHelp">
                    <span id="checkId" class="badge fw-semibold py-1 w-85 bg-danger-subtle text-danger"></span>
                  </div>

                  <div class="mb-3 registerblock">
                    <label for="exampleInputEmail1" class="form-label">Password
                      <input type="password" name="memberPw" id="memberPw" class="form-control mx-n1"
                        aria-describedby="textHelp">
                      <span id="checkPw"
                        class="badge fw-semibold py-1 w-85 bg-danger-subtle text-danger checkPw"></span>
                    </label>

                    <label for="exampleInputEmail1" class="form-label">비밀번호 확인
                      <input type="password" name="memberPw2" id="memberPw2" class="form-control mx-n1"
                        aria-describedby="textHelp" readonly>
                      <span id="pwDoubleCheck"
                        class="badge fw-semibold py-1 w-85 bg-danger-subtle text-danger checkPw"></span>
                    </label>


                  </div>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Name</label>
                    <input type="text" name="memberName" id="memberName" class="form-control"
                      aria-describedby="textHelp" placeholder="실명으로 작성해주세요">
                  </div>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">기수</label>
                    <select name="memberGroup" id="memberGroup" class="form-select w-auto">
                      <option value="1기">1기</option>
                      <option value="2기">2기</option>
                      <option value="3기">3기</option>
                      <option value="4기">4기</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Tel</label>
                    <input type="text" name="mamberPhone" id="memberPhone" class="form-control"
                      aria-describedby="textHelp" placeholder="000-0000-0000 형식으로 작성해주세요">
                    <span id="checkPhone" class="badge fw-semibold py-1 w-85 bg-danger-subtle text-danger"></span>
                  </div>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Email address</label>
                    <input type="email" name="memberEmail" id="memberEmail" class="form-control"
                      aria-describedby="emailHelp">
                    <span id="checkEmail" class="badge fw-semibold py-1 w-85 bg-danger-subtle text-danger"></span>
                  </div>
                  <input type="hidden" name="memberEnabled" id="memberEnabled" value="N">
                  <input type="hidden" name="memberRole" id="memberRole" value="USER">
                  <div class="mb-3">
                    <input type="checkbox" class="checkbox" id="termsCheckbox" />
                    이용약관 개인정보 수집 및 이용약관에 모두 동의합니다.
                  </div>
                  <div class="mb-4">
                    <!-- <label for="exampleInputPassword1" class="form-label"></label> -->
                    <input type="button" value="이메일로 본인인증" id="sendEmail"
                      class="btn btn-outline-primary w-100 mt-4"><br>
                    <span class="registerblock">
                      <input type="text" placeholder="인증번호를 입력해주세요" id="myVerifyCode" name="myVerifyCode"
                        aria-describedby="textHelp" class="form-control emailVerifyCode">
                      <input type="button" value="인증하기" id="verifyCode" class="btn btn-primary mt-4 emailVerify">
                    </span>
                  </div>
                  <!-- <a href="../main/authentication-login.html" class="btn btn-primary w-100 py-8 mb-4 rounded-2">Sign
                    Up</a> -->
                  <div class="d-flex align-items-center">
                    <p class="fs-4 mb-0 text-primary">본인인증을 완료해 주세요.</p>
                    <input type="hidden" id="closeJoinPage" value="회원가입 완료하기">
                    <!-- <a class="text-primary fw-medium ms-2" href="../main/authentication-login.html">Sign In</a> -->
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function handleColorTheme(e) {
        document.documentElement.setAttribute("data-color-theme", e);
      }
    </script>
    <button class="btn btn-primary p-3 rounded-circle d-flex align-items-center justify-content-center customizer-btn"
      type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
      <i class="icon ti ti-settings fs-7"></i>
    </button>

    <div class="offcanvas customizer offcanvas-end" tabindex="-1" id="offcanvasExample"
      aria-labelledby="offcanvasExampleLabel">
      <div class="d-flex align-items-center justify-content-between p-3 border-bottom">
        <h4 class="offcanvas-title fw-semibold" id="offcanvasExampleLabel">
          Settings
        </h4>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body h-n80" data-simplebar>
        <h6 class="fw-semibold fs-4 mb-2">Theme</h6>

        <div class="d-flex flex-row gap-3 customizer-box" role="group">
          <input type="radio" class="btn-check light-layout" name="theme-layout" id="light-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary rounded-2" for="light-layout">
            <i class="icon ti ti-brightness-up fs-7 me-2"></i>Light
          </label>

          <input type="radio" class="btn-check dark-layout" name="theme-layout" id="dark-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary rounded-2" for="dark-layout">
            <i class="icon ti ti-moon fs-7 me-2"></i>Dark
          </label>
        </div>

        <h6 class="mt-5 fw-semibold fs-4 mb-2">Theme Direction</h6>
        <div class="d-flex flex-row gap-3 customizer-box" role="group">
          <input type="radio" class="btn-check" name="direction-l" id="ltr-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary" for="ltr-layout">
            <i class="icon ti ti-text-direction-ltr fs-7 me-2"></i>LTR
          </label>

          <input type="radio" class="btn-check" name="direction-l" id="rtl-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary" for="rtl-layout">
            <i class="icon ti ti-text-direction-rtl fs-7 me-2"></i>RTL
          </label>
        </div>

        <h6 class="mt-5 fw-semibold fs-4 mb-2">Theme Colors</h6>

        <div class="d-flex flex-row flex-wrap gap-3 customizer-box color-pallete" role="group">
          <input type="radio" class="btn-check" name="color-theme-layout" id="Blue_Theme" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center"
            onclick="handleColorTheme('Blue_Theme')" for="Blue_Theme" data-bs-toggle="tooltip" data-bs-placement="top"
            data-bs-title="BLUE_THEME">
            <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-1">
              <i class="ti ti-check text-white d-flex icon fs-5"></i>
            </div>
          </label>

          <input type="radio" class="btn-check" name="color-theme-layout" id="Aqua_Theme" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center"
            onclick="handleColorTheme('Aqua_Theme')" for="Aqua_Theme" data-bs-toggle="tooltip" data-bs-placement="top"
            data-bs-title="AQUA_THEME">
            <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-2">
              <i class="ti ti-check text-white d-flex icon fs-5"></i>
            </div>
          </label>

          <input type="radio" class="btn-check" name="color-theme-layout" id="Purple_Theme" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center"
            onclick="handleColorTheme('Purple_Theme')" for="Purple_Theme" data-bs-toggle="tooltip"
            data-bs-placement="top" data-bs-title="PURPLE_THEME">
            <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-3">
              <i class="ti ti-check text-white d-flex icon fs-5"></i>
            </div>
          </label>

          <input type="radio" class="btn-check" name="color-theme-layout" id="green-theme-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center"
            onclick="handleColorTheme('Green_Theme')" for="green-theme-layout" data-bs-toggle="tooltip"
            data-bs-placement="top" data-bs-title="GREEN_THEME">
            <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-4">
              <i class="ti ti-check text-white d-flex icon fs-5"></i>
            </div>
          </label>

          <input type="radio" class="btn-check" name="color-theme-layout" id="cyan-theme-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center"
            onclick="handleColorTheme('Cyan_Theme')" for="cyan-theme-layout" data-bs-toggle="tooltip"
            data-bs-placement="top" data-bs-title="CYAN_THEME">
            <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-5">
              <i class="ti ti-check text-white d-flex icon fs-5"></i>
            </div>
          </label>

          <input type="radio" class="btn-check" name="color-theme-layout" id="orange-theme-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary d-flex align-items-center justify-content-center"
            onclick="handleColorTheme('Orange_Theme')" for="orange-theme-layout" data-bs-toggle="tooltip"
            data-bs-placement="top" data-bs-title="ORANGE_THEME">
            <div class="color-box rounded-circle d-flex align-items-center justify-content-center skin-6">
              <i class="ti ti-check text-white d-flex icon fs-5"></i>
            </div>
          </label>
        </div>

        <h6 class="mt-5 fw-semibold fs-4 mb-2">Layout Type</h6>
        <div class="d-flex flex-row gap-3 customizer-box" role="group">
          <div>
            <input type="radio" class="btn-check" name="page-layout" id="vertical-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="vertical-layout">
              <i class="icon ti ti-layout-sidebar-right fs-7 me-2"></i>Vertical
            </label>
          </div>
          <div>
            <input type="radio" class="btn-check" name="page-layout" id="horizontal-layout" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="horizontal-layout">
              <i class="icon ti ti-layout-navbar fs-7 me-2"></i>Horizontal
            </label>
          </div>
        </div>

        <h6 class="mt-5 fw-semibold fs-4 mb-2">Container Option</h6>

        <div class="d-flex flex-row gap-3 customizer-box" role="group">
          <input type="radio" class="btn-check" name="layout" id="boxed-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary" for="boxed-layout">
            <i class="icon ti ti-layout-distribute-vertical fs-7 me-2"></i>Boxed
          </label>

          <input type="radio" class="btn-check" name="layout" id="full-layout" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary" for="full-layout">
            <i class="icon ti ti-layout-distribute-horizontal fs-7 me-2"></i>Full
          </label>
        </div>

        <h6 class="fw-semibold fs-4 mb-2 mt-5">Sidebar Type</h6>
        <div class="d-flex flex-row gap-3 customizer-box" role="group">
          <a href="javascript:void(0)" class="fullsidebar">
            <input type="radio" class="btn-check" name="sidebar-type" id="full-sidebar" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="full-sidebar">
              <i class="icon ti ti-layout-sidebar-right fs-7 me-2"></i>Full
            </label>
          </a>
          <div>
            <input type="radio" class="btn-check " name="sidebar-type" id="mini-sidebar" autocomplete="off" />
            <label class="btn p-9 btn-outline-primary" for="mini-sidebar">
              <i class="icon ti ti-layout-sidebar fs-7 me-2"></i>Collapse
            </label>
          </div>
        </div>

        <h6 class="mt-5 fw-semibold fs-4 mb-2">Card With</h6>

        <div class="d-flex flex-row gap-3 customizer-box" role="group">
          <input type="radio" class="btn-check" name="card-layout" id="card-with-border" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary" for="card-with-border">
            <i class="icon ti ti-border-outer fs-7 me-2"></i>Border
          </label>

          <input type="radio" class="btn-check" name="card-layout" id="card-without-border" autocomplete="off" />
          <label class="btn p-9 btn-outline-primary" for="card-without-border">
            <i class="icon ti ti-border-none fs-7 me-2"></i>Shadow
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="dark-transparent sidebartoggler"></div>
  <!-- Import Js Files -->
  <script src="../static/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../static/libs/simplebar/dist/simplebar.min.js"></script>
  <script src="../static/js/theme/app.init.js"></script>
  <script src="../static/js/theme/theme.js"></script>
  <script src="../static/js/theme/app.min.js"></script>

  <!-- solar icons -->
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>
</body>

</html>